<?xml version="1.0" encoding="UTF-8" standalone="yes"?><response><header><requestMsgID></requestMsgID><responseTime>2025-11-17 17:53:08.538</responseTime><responseMsgID></responseMsgID><successYN>Y</successYN><resultCode>00</resultCode><resultMsg>NORMAL SERVICE.</resultMsg></header><body><item><biblioSummaryInfoArray><biblioSummaryInfo><applicationDate>2020.02.24</applicationDate><applicationFlag> </applicationFlag><applicationNumber>10-2021-7030342</applicationNumber><claimCount>30</claimCount><examinerName> </examinerName><finalDisposal> </finalDisposal><inventionTitle>크로마 서브블록의 아핀 기반 인터 예측을 위한 방법 및 장치</inventionTitle><inventionTitleEng>METHOD AND APPARATUS FOR AFFINE BASED INTER PREDICTION OF CHROMA SUBBLOCKS</inventionTitleEng><openDate>2021.10.19</openDate><openNumber>10-2021-0126126</openNumber><originalApplicationDate> </originalApplicationDate><originalApplicationKind>국제출원/신규</originalApplicationKind><originalApplicationNumber> </originalApplicationNumber><originalExaminationRequestDate>2021.09.17</originalExaminationRequestDate><originalExaminationRequestFlag>Y</originalExaminationRequestFlag><publicationDate> </publicationDate><publicationNumber> </publicationNumber><registerDate> </registerDate><registerNumber> </registerNumber><registerStatus>공개</registerStatus><translationSubmitDate>2021.09.17</translationSubmitDate></biblioSummaryInfo></biblioSummaryInfoArray><ipcInfoArray><ipcInfo><ipcDate>(2014.01.01)</ipcDate><ipcNumber>H04N 19/52</ipcNumber></ipcInfo><ipcInfo><ipcDate>(2014.01.01)</ipcDate><ipcNumber>H04N 19/527</ipcNumber></ipcInfo><ipcInfo><ipcDate>(2014.01.01)</ipcDate><ipcNumber>H04N 19/54</ipcNumber></ipcInfo><ipcInfo><ipcDate>(2014.01.01)</ipcDate><ipcNumber>H04N 19/176</ipcNumber></ipcInfo><ipcInfo><ipcDate>(2014.01.01)</ipcDate><ipcNumber>H04N 19/186</ipcNumber></ipcInfo><ipcInfo><ipcDate>(2014.01.01)</ipcDate><ipcNumber>H04N 19/70</ipcNumber></ipcInfo></ipcInfoArray><familyInfoArray><familyInfo><familyApplicationNumber>1020257030674</familyApplicationNumber></familyInfo><familyInfo/></familyInfoArray><abstractInfoArray><abstractInfo><astrtCont> 본 발명은 크로마 포맷에 기반을 둔 크로마 서브블록의 아핀 기반 인터 예측을 위한 모션 벡터 유도 방법 및 장치에 관한 것이며, 상기 크로마 모션 벡터 유도 방법은: 크로마 포맷 정보에 기초하여 수평 방향 및 수직 방향의 크로마 스케일링 인자를 결정하는 단계 - 상기 크로마 포맷 정보는 상기 현재 픽처 블록이 속하는 현재 픽처의 크로마 포맷을 지시함 - ; 상기 크로마 스케일링 인자의 값에 기초하여 상기 루마 블록의 루마 서브블록의 세트(S)를 결정하는 단계; 상기 루마 서브블록의 세트(S)에서 하나 이상의 루마 서브블록의 모션 벡터에 기초하여 상기 크로마 블록의 크로마 서브블록에 대한 모션 벡터를 결정하는 단계를 포함한다. </astrtCont></abstractInfo></abstractInfoArray><internationalInfoArray><internationalInfo><internationOpenDate>2020.08.27</internationOpenDate><internationOpenNumber>WO2020169114</internationOpenNumber><internationalApplicationDate>2020.02.24</internationalApplicationDate><internationalApplicationNumber>PCT/CN2020/076493</internationalApplicationNumber></internationalInfo></internationalInfoArray><claimInfoArray><claimInfo><claim>1. 현재 이미지 블록의 아핀 기반 인터 예측(affine based inter prediction)에 사용되는 크로마 모션 벡터 유도 방법으로서,상기 현재 이미지 블록은 루마 블록 및 같은 위치에 있는 크로마 블록을 포함하고, 상기 크로마 모션 벡터 유도 방법은:크로마 포맷 정보에 기초하여 수평 방향 및 수직 방향의 크로마 스케일링 인자를 결정하는 단계 - 상기 크로마 포맷 정보는 상기 현재 픽처 블록이 속하는 현재 픽처의 크로마 포맷을 지시함 - ;상기 크로마 스케일링 인자의 값에 기초하여 상기 루마 블록의 루마 서브블록의 세트(S)를 결정하는 단계; 및상기 루마 서브블록의 세트(S)에서 하나 이상의 루마 서브블록의 모션 벡터에 기초하여 상기 크로마 블록의 크로마 서브블록에 대한 모션 벡터를 결정하는 단계를 포함하는 로마 모션 벡터 유도 방법.</claim></claimInfo><claimInfo><claim>2. 제1항에 있어서,상기 세트(S)의 하나 이상의 루마 서브블록 각각은 수평 방향의 서브블록 인덱스 및 수직 방향의 서브블록 인덱스로 표현되는, 크로마 모션 벡터 유도 방법.</claim></claimInfo><claimInfo><claim>3. 제1항 또는 제2항에 있어서,SubWidthC 및 SubHeightC가 모두 1일 때, 상기 루마 서브블록의 세트(S)는:S0 = (xSbIdx, ySbIdx)으로 인덱싱된 루마 서브블록을 포함하며;SubWidthC 및 SubHeightC 중 적어도 하나가 1과 같지 않을 때, 상기 루마 서브블록의 세트(S)는:S0 = ((　xSbIdx　　003e#003e#　　(　SubWidthC　-　1　)　　003c#003c#　　(　SubWidthC　-1　)　)　,(ySbIdx　　003e#003e#　　(　SubHeightC　-　1　)　　003c#003c#　　(　SubHeightC　-1　)　))으로 인덱싱된 제1 루마 서브블록, 및S1 = ((　xSbIdx　　003e#003e#　　(SubWidthC　-　1　)　　003c#003c#　　(　SubWidthC　-1)　)　+　(　SubWidthC　-1　),(　ySbIdx　　003e#003e#　　(　SubHeightC　-　1　)　　003c#003c#　　(　SubHeightC　-1　)　)　+　(　SubHeightC　-1　)　)으로 인덱싱된 제2 루마 서브블록을 포함하며,여기서 SubWidthC 및 SubHeightC는 각각 수평 방향 및 수직 방향의 크로마 스케일링 인자를 나타내고;xSbIdx 및 ySbIdx는 상기 세트(S)의 루마 서브블록에 대한 수평 방향의 서브블록 인덱스 및 수직 방향의 서브블록 인덱스를 각각 나타내고;&quot;003c#003c# &quot;는 좌측 산술 시프트(left arithmetic shift)을 나타내고;&quot;003e#003e#&quot;는 우측 산술 시프트(right arithmetic shift)를 나타내고;xSbIdx = 0..numSbX - 1 및 ySbIdx = 0..numSbY - 1이고;numSbX는 수평 방향을 따르는 루마 블록의 루마 서브블록의 수를 나타내고; 그리고numSbY는 수직 방향을 따르는 루마 블록의 루마 서브블록의 수를 나타내는, 크로마 모션 벡터 유도 방법.</claim></claimInfo><claimInfo><claim>4. 제3항에 있어서,상기 수평 방향 및 상기 수직 방향을 따르는 상기 크로마 블록의 크로마 서브블록의 수는 상기 수평 방향 및 상기 수직 방향을 따르는 상기 루마 블록의 루마 서브블록의 수와 각각 동일한, 크로마 모션 벡터 유도 방법.</claim></claimInfo><claimInfo><claim>5. 제1항 또는 제2항에 있어서,SubWidthC와 SubHeightC가 모두 1일 때, 상기 루마 서브블록의 세트(S)는:S0 = (xCSbIdx, yCSbIdx)으로 인덱싱된 루마 서브블록을 포함하며;SubWidthC 및 SubHeightC 중 적어도 하나가 1과 같지 않을 때, 루마 서브블록의 세트(S)는:S0 = ((　xCSbIdx　　003e#003e#　　(　SubWidthC　-　1　)　　003c#003c#　　(　SubWidthC　-1　)　)　,(yCSbIdx　　003e#003e#　　(　SubHeightC　-　1　)　　003c#003c#　　(　SubHeightC　-1　)　))으로 인덱싱된 제1 루마 서브블록, 및S1 = (　xCSbIdx　　003e#003e#　　(SubWidthC　-　1　)　　003c#003c#　　(　SubWidthC　-1)　)　+　(　SubWidthC　-1　),(　yCSbIdx　　003e#003e#　　(　SubHeightC　-　1　)　　003c#003c#　　(　SubHeightC　-1　)　)　+　(　SubHeightC　-1　)　),으로 인덱싱된 제2 루마 서브블록을 포함하며,여기서 SubWidthC 및 SubHeightC는 각각 수평 방향 및 수직 방향의 크로마 스케일링 인자를 나타내고;xCSbIdx 및 yCSbIdx는 세트(S)의 루마 서브블록에 대한 수평 방향의 서브블록 인덱스 및 수직 방향의 서브블록 인덱스를 각각 나타내고; xCSbIdx = 0..numCSbX - 1 및 yCSbIdx = 0..numCSbY - 1이고;numCSbX는 수평 방향의 크로마 서브블록의 수를 나타내고; 그리고numCSbY는 수직 방향의 크로마 서브블록의 수를 나타내는, 크로마 모션 벡터 유도 방법.</claim></claimInfo><claimInfo><claim>6. 제5항에 있어서,상기 크로마 서브블록 각각의 크기는 루마 서브블록 각각의 크기와 동일한, 크로마 모션 벡터 유도 방법.</claim></claimInfo><claimInfo><claim>7. 제5항에 있어서,상기 수평 방향을 따르는 크로마 블록의 크로마 서브블록의 수는 상기 수평 방향을 따르는 루마 블록의 루마 서브블록의 수와 상기 수평 방향의 크로마 스케일링 인자의 값에 의존하고; 그리고상기 수직 방향을 따르는 크로마 블록의 크로마 서브블록의 수는 상기 수직 방향을 따르는 루마 블록의 루마 서브블록의 수와 상기 수직 방향의 크로마 스케일링 인자의 값에 의존하는, 크로마 모션 벡터 유도 방법.</claim></claimInfo><claimInfo><claim>8. 선행 항 중 어느 한 항에 있어서,상기 수평 방향의 서브블록 인덱스 xSbIdxL 및 상기 수직 방향의 서브블록 인덱스 ySbIdxL에 의해 인덱싱된 크로마 서브블록에 대해, 상기 루마 서브블록의 세트(S)는:S0 = (xSbIdxL, ySbIdxL),S1 = (xSbIdxL, ySbIdxL + (SubHeightC-1)),S2 = (xSbIdxL+ (SubWidthC-1), ySbIdxL), 또는S3 = (xSbIdxL+ (SubWidthC-1), ySbIdxL + (SubHeightC-1))에 의해 인덱싱된 서브블록 중 하나 이상을 포함하며;여기서 루마 서브블록 인덱스 S0는 수평 방향의 서브블록 인덱스 xSbIdxL 및 수직 방향의 서브블록 인덱스 ySbIdxL로 표현되고;루마 블록 인덱스 S1은 수평 방향 xSbIdxL의 서브블록 인덱스 및 수직 방향 ySbIdxL + (SubHeightC-1)의 서브블록 인덱스로 표현되고;루마 블록 인덱스 S2는 수평 방향 xSbIdxL+(SubWidthC-1)의 서브블록 인덱스 및 수직 방향 ySbIdxL의 서브블록 인덱스로 표현되고; 그리고루마 블록 인덱스 S3은 수평 방향 xSbIdxL+(SubWidthC-1)의 서브블록 인덱스 및 수직 방향 ySbIdxL+(SubHeightC-1)의 서브블록 인덱스로 표현되는, 크로마 모션 벡터 유도 방법.</claim></claimInfo><claimInfo><claim>9. 선행 항 중 어느 한 항에 있어서,상기 루마 서브블록 세트(S)는:S0 = (xSbIdxL, ySbIdxL)에 의해 인덱싱된 제1 루마 서브블록 및S1 = (xSbIdxL+ (SubWidthC-1), ySbIdxL + (SubHeightC-1))에 의해 인덱싱된 제2 루마 서브블록을 포함하며;여기서 루마 블록 위치 S0는 수평 방향의 서브블록 인덱스 xSbIdxL 및 수직 방향의 서브블록 인덱스 ySbIdxL로 표현되고;루마 블록 위치 S1은 수평 방향 xSbIdxL+(SubWidthC-1)의 서브블록 인덱스 및 수직 방향 ySbIdxL+(SubHeightC-1)의 서브블록 인덱스로 표현되는, 크로마 모션 벡터 유도 방법.</claim></claimInfo><claimInfo><claim>10. 선행 항 중 어느 한 항에 있어서,상기 크로마 포맷이 4:4:4일 때, 상기 세트(S)는 크로마 서브블록과 같은 위치에 있는 하나의 루마 서브블록을 포함하고;상기 크로마 포맷이 4:2:2일 때, 상기 세트(S)는 서로 수평으로 인접한 2 개의 루마 서브블록을 포함하고;상기 크로마 포맷이 4:2:0일 때, 상기 세트(S)는 대각선인 2 개의 루마 서브블록을 포함하는, 크로마 모션 벡터 유도 방법.</claim></claimInfo><claimInfo><claim>11. 선행 항 중 어느 한 항에 있어서상기 세트(S)에 하나 이상의 루마 서브블록이 있을 때, 상기 루마 서브블록의 세트(S)에서 하나 이상의 루마 서브블록의 모션 벡터에 기초하여 상기 크로마 블록의 크로마 서브블록에 대한 모션 벡터를 결정하는 단계는:평균화된 루마 모션 벡터를 생성하기 위해 상기 세트 S의 루마 서브블록의 모션 벡터를 평균화하는 단계; 및상기 평균화된 루마 모션 벡터에 기초하여 상기 크로마 서브블록에 대한 모션 벡터를 유도하는 단계를 포함하는, 크로마 모션 벡터 유도 방법.</claim></claimInfo><claimInfo><claim>12. 제11항에 있어서,상기 세트 S의 루마 서브블록의 모션 벡터를 평균화하는 단계는:상기 세트 S의 루마 서브블록의 모션 벡터의 수평 성분을 평균화하는 단계; 또는,상기 세트 S의 루마 서브블록의 모션 벡터의 수직 성분을 평균화하는 단계중 하나 이상을 포함하는, 크로마 모션 벡터 유도 방법.</claim></claimInfo><claimInfo><claim>13. 제11항 또는 제12항에 있어서,평균화된 루마 모션 벡터를 생성하기 위해 상기 세트 S의 루마 서브블록의 모션 벡터를 평균화하는 단계는:mvAvgLX = mvAvgLX[ 0 ]이 0보다 크거나 같을 때, mvAvgLX[ 0 ] = ( mvAvgLX[ 0 ] + (　N003e#003e#1　)　-　1) 003e#003e# log2(N)이고, 그렇지 않으면,mvAvgLX[ 0 ] = - ( (- mvAvgLX[ 0 ] + (　N003e#003e#1　)　-　1) 003e#003e# log2(N) )이고;mvAvgLX[ 1 ]이 0보다 크거나 같을 때, mvAvgLX[ 1 ] = ( mvAvgLX[ 1 ] + (　N003e#003e#1　)　-　1) 003e#003e# log2(N)이고, 그렇지 않으면,mvAvgLX[ 1 ] = - ( (- mvAvgLX[ 1 ] + (　N003e#003e#1　)　-　1　) 003e#003e# log2(N) )인 것을 포함하며,여기서:mvAvgLX는 평균화의 결과 모션 벡터이고;mvAvgLX[ 0 ]은 결과 모션 벡터 mvAvgLX의 수평 성분이고, mvAvgLX[ 1 ]은 결과 모션 벡터 mvAvgLX의 수직 성분이고; 및 는 모션 벡터 어레이의 루마 서브블록 세트(S)에서 서브블록 Si의 수평 인덱스 및 수직 인덱스이며,는  및 를 갖는 루마 서브블록의 모션 벡터이고, N은 루마 서브블록 세트(S)의 원소의 수이고, log2(N)은 밑수 2에 대한 N의 로그를 나타내며 값 N을 얻기 위해 숫자 2를 거듭제곱한 값이고, &quot;003e#003e#&quot;는 우측 산술 시프트를 나타내는, 크로마 모션 벡터 유도 방법.</claim></claimInfo><claimInfo><claim>14. 제11항 내지 제13항 중 어느 한 항에 있어서,상기 세트 S의 루마 서브블록의 모션 벡터를 평균화하는 단계는:mvAvgLX　=　mvLX[　(　xSbIdx　　003e#003e#　　(　SubWidthC　-　1　)　　003c#003c#　　(　SubWidthC　-1　)　)　] [　(ySbIdx　　003e#003e#　　(　SubHeightC　-1　)　　003c#003c#　　(　SubHeightC　-1　)　)　]　+ mvLX[　(　xSbIdx　　003e#003e#　　(SubWidthC　-1　)　　003c#003c#　　(　SubWidthC　-1)　)　+　(　SubWidthC　-1　)　] [　(　ySbIdx　　003e#003e#　　(　SubHeightC　-1　)　　003c#003c#　　(　SubHeightC　-1　)　)　+　(　SubHeightC　-1　)　]mvAvgLX[　0　] 003e#= 0이면mvAvgLX[ 0 ] =( mvAvgLX[ 0 ] + 1 -(　mvAvgLX[　0　] 003e#= 0　)　) 003e#003e# 1이고mvAvgLX[　1　] 003e#= 0이면mvAvgLX[ 1 ] =( mvAvgLX[ 1 ] + 1 -(　mvAvgLX[　1　] 003e#= 0　)　) 003e#003e# 1인것을 포함하며,여기서 mvAvgLX[0]은 평균 모션 벡터 mvAvgLX의 수평 성분이고, mvAvgLX[1]은 평균 모션 벡터 mvAvgLX의 수직 성분이고; SubWidthC 및 SubHeightC는 각각 수평 방향 및 수직 방향의 크로마 스케일링 인자를 나타내고; xSbIdx 및 ySbIdx는 세트(S)의 루마 서브블록에 대해 수평 방향의 서브블록 인덱스 및 수직 방향의 서브블록 인덱스를 각각 나타내며, &quot;003c#003c#&quot;는 좌측 산술 시프트이고 &quot;003e#003e#&quot;는 우측 산술 시프트인, 크로마 모션 벡터 유도 방법.</claim></claimInfo><claimInfo><claim>15. 선행 항 중 어느 한 항에 있어서,상기 크로마 포맷 정보에 기초하여 수평 방향 및 수직 방향의 크로마 스케일링 인자를 결정하는 단계는:상기 크로마 포맷 정보와 수평 방향 및 수직 방향의 한 쌍의 크로마 스케일링 인자 간의 매핑에 기초하여 수평 방향 및 수직 방향의 크로마 스케일링 인자를 결정하는 단계를 포함하는, 크로마 모션 벡터 유도 방법.</claim></claimInfo><claimInfo><claim>16. 선행 항 중 어느 한 항에 있어서,상기 결정된 모션 벡터에 기초하여 상기 크로마 서브블록의 예측을 생성하는 단계를 더 포함하는 크로마 모션 벡터 유도 방법.</claim></claimInfo><claimInfo><claim>17. 선행 항 중 어느 한 항에 있어서,상기 크로마 포맷은 YUV 4:2:2 포맷, YUV 4:2:0 포맷 또는 YUV 4:4:4 포맷 중 하나를 포함하는, 크로마 모션 벡터 유도 방법.</claim></claimInfo><claimInfo><claim>18. 제1항 내지 제42항 중 어느 한 항에 있어서,인코딩 장치에 의해 구현되는 크로마 모션 벡터 유도 방법.</claim></claimInfo><claimInfo><claim>19. 제1항 내지 제42항 중 어느 한 항에 있어서,디코딩 장치에 의해 구현되는 크로마 모션 벡터 유도 방법.</claim></claimInfo><claimInfo><claim>20. 인코더(20)로서,제1항 내지 제18항 중 어느 한 항에 따른 방법을 수행하기 위한 프로세싱 회로를 포함하는 인코더(20).</claim></claimInfo><claimInfo><claim>21. 디코더(30)로서,제1항 내지 제18항 중 어느 한 항에 따른 방법을 수행하기 위한 프로세싱 회로를 포함하는 디코더(30).</claim></claimInfo><claimInfo><claim>22. 컴퓨터 프로그램 제품으로서,제1항 내지 제19항 중 어느 한 항에 따른 방법을 수행하기 위한 프로그램 코드를 포함하는 컴퓨터 프로그램 제품.</claim></claimInfo><claimInfo><claim>23. 디코더로서,하나 이상의 프로세서; 및상기 프로세서에 결합되고 상기 프로세서에 의한 실행을 위한 프로그래밍을 저장하는 비일시적 컴퓨터 판독 가능형 저장 매체를 포함하며,상기 프로그래밍은, 상기 프로세서에 의해 실행될 때, 상기 디코더가 제1항 내지 제17항 및 제19항 중 어느 한 항에 따른 방법을 수행하도록 구성하는, 디코더.</claim></claimInfo><claimInfo><claim>24. 인코더로서,하나 이상의 프로세서; 및상기 프로세서에 결합되고 상기 프로세서에 의한 실행을 위한 프로그래밍을 저장하는 비일시적 컴퓨터 판독 가능형 저장 매체를 포함하며,상기 프로그래밍은, 상기 프로세서에 의해 실행될 때, 상기 인코더가 제1항 내지 제18항 중 어느 한 항에 따른 방법을 수행하도록 구성하는, 인코더.</claim></claimInfo><claimInfo><claim>25. 비일시적 컴퓨터 판독 가능형 매체로서,컴퓨터 디바이스에 의해 실행될 때, 상기 컴퓨터 디바이스로 하여금 선행 항 중 어느 한 항의 방법을 수행하게 하는 프로그램 코드를 실어 전달하게 하는 비일시적 컴퓨터 판독 가능 매체.</claim></claimInfo><claimInfo><claim>26. 복수의 신택스 요소를 포함함으로써 비디오 신호에 대한 비트스트림으로서,상기 복수의 신택스 요소는 제1 플래그를 포함하고, 선행 항 중 어느 한 항의 방법은 상기 제1 플래그의 값에 기초하여 수행되는, 비트스트림.</claim></claimInfo><claimInfo><claim>27. 현재 이미지 블록의 아핀 기반 인터 예측을 위한 장치로서,상기 현재 이미지 블록은 루마 블록 및 같은 위치에 있는 크로마 블록을 포함하고, 상기 아핀 기반 인터 예측을 위한 장치는:크로마 포맷 정보에 기초하여 수평 방향 및 수직 방향의 크로마 스케일링 인자를 결정하고 - 상기 크로마 포맷 정보는 상기 현재 픽처 블록이 속하는 현재 픽처의 크로마 포맷을 지시함 - ; 그리고 상기 크로마 스케일링 인자의 값에 기초하여 상기 루마 블록의 루마 서브블록의 세트(S)를 결정하도록 구성되어 있는 결정 모듈; 및상기 루마 서브블록의 세트(S)에서 하나 이상의 루마 서브블록의 모션 벡터에 기초하여 상기 크로마 블록의 크로마 서브블록에 대한 모션 벡터를 결정하도록 구성되어 있는 모션 벡터 유도 모듈을 포함하는 아핀 기반 인터 예측을 위한 장치.</claim></claimInfo><claimInfo><claim>28. 제27항에 있어서,상기 세트(S)의 하나 이상의 루마 서브블록 각각은 수평 방향의 서브블록 인덱스 및 수직 방향의 서브블록 인덱스로 표현되는, 아핀 기반 인터 예측을 위한 장치.</claim></claimInfo><claimInfo><claim>29. 제27항 또는 제28항에 있어서,SubWidthC 및 SubHeightC가 모두 1일 때, 상기 루마 서브블록의 세트(S)는:S0 = (xSbIdx, ySbIdx)으로 인덱싱된 루마 서브블록을 포함하며;SubWidthC 및 SubHeightC 중 적어도 하나가 1과 같지 않을 때, 상기 루마 서브블록의 세트(S)는:S0 = ((　xSbIdx　　003e#003e#　　(　SubWidthC　-　1　)　　003c#003c#　　(　SubWidthC　-1　)　)　,(ySbIdx　　003e#003e#　　(　SubHeightC　-　1　)　　003c#003c#　　(　SubHeightC　-1　)　))으로 인덱싱된 제1 루마 서브블록, 및S1 = ((　xSbIdx　　003e#003e#　　(SubWidthC　-　1　)　　003c#003c#　　(　SubWidthC　-1)　)　+　(　SubWidthC　-1　),(　ySbIdx　　003e#003e#　　(　SubHeightC　-　1　)　　003c#003c#　　(　SubHeightC　-1　)　)　+　(　SubHeightC　-1　)　)으로 인덱싱된 제2 루마 서브블록을 포함하며,여기서 SubWidthC 및 SubHeightC는 각각 수평 방향 및 수직 방향의 크로마 스케일링 인자를 나타내고;xSbIdx 및 ySbIdx는 상기 세트(S)의 루마 서브블록에 대한 수평 방향의 서브블록 인덱스 및 수직 방향의 서브블록 인덱스를 각각 나타내고;&quot;003c#003c# &quot;는 좌측 산술 시프트(left arithmetic shift)을 나타내고;&quot;003e#003e#&quot;는 우측 산술 시프트(right arithmetic shift)를 나타내고;xSbIdx = 0..numSbX - 1 및 ySbIdx = 0..numSbY - 1이고;numSbX는 수평 방향을 따르는 루마 블록의 루마 서브블록의 수를 나타내고; 그리고numSbY는 수직 방향을 따르는 루마 블록의 루마 서브블록의 수를 나타내는, 아핀 기반 인터 예측을 위한 장치.</claim></claimInfo><claimInfo><claim>30. 제29항에 있어서,상기 수평 방향 및 상기 수직 방향을 따르는 상기 크로마 블록의 크로마 서브블록의 수는 상기 수평 방향 및 상기 수직 방향을 따르는 상기 루마 블록의 루마 서브블록의 수와 각각 동일한, 아핀 기반 인터 예측을 위한 장치.</claim></claimInfo><claimInfo><claim>31. 제27항 또는 제28항에 있어서,SubWidthC와 SubHeightC가 모두 1일 때, 상기 루마 서브블록의 세트(S)는:S0 = (xCSbIdx, yCSbIdx)으로 인덱싱된 루마 서브블록을 포함하며;SubWidthC 및 SubHeightC 중 적어도 하나가 1과 같지 않을 때, 루마 서브블록의 세트(S)는:S0 = ((　xCSbIdx　　003e#003e#　　(　SubWidthC　-　1　)　　003c#003c#　　(　SubWidthC　-1　)　)　,(yCSbIdx　　003e#003e#　　(　SubHeightC　-　1　)　　003c#003c#　　(　SubHeightC　-1　)　))으로 인덱싱된 제1 루마 서브블록, 및S1 = (　xCSbIdx　　003e#003e#　　(SubWidthC　-　1　)　　003c#003c#　　(　SubWidthC　-1)　)　+　(　SubWidthC　-1　),(　yCSbIdx　　003e#003e#　　(　SubHeightC　-　1　)　　003c#003c#　　(　SubHeightC　-1　)　)　+　(　SubHeightC　-1　)　),으로 인덱싱된 제2 루마 서브블록을 포함하며,여기서 SubWidthC 및 SubHeightC는 각각 수평 방향 및 수직 방향의 크로마 스케일링 인자를 나타내고;xCSbIdx 및 yCSbIdx는 세트(S)의 루마 서브블록에 대한 수평 방향의 서브블록 인덱스 및 수직 방향의 서브블록 인덱스를 각각 나타내고; xCSbIdx = 0..numCSbX - 1 및 yCSbIdx = 0..numCSbY - 1이고;numCSbX는 수평 방향의 크로마 서브블록의 수를 나타내고; 그리고numCSbY는 수직 방향의 크로마 서브블록의 수를 나타내는, 아핀 기반 인터 예측을 위한 장치.</claim></claimInfo><claimInfo><claim>32. 제31항에 있어서,상기 크로마 서브블록 각각의 크기는 루마 서브블록 각각의 크기와 동일한, 아핀 기반 인터 예측을 위한 장치.</claim></claimInfo><claimInfo><claim>33. 제31항에 있어서,상기 수평 방향을 따르는 크로마 블록의 크로마 서브블록의 수는 상기 수평 방향을 따르는 루마 블록의 루마 서브블록의 수와 상기 수평 방향의 크로마 스케일링 인자의 값에 의존하고; 그리고상기 수직 방향을 따르는 크로마 블록의 크로마 서브블록의 수는 상기 수직 방향을 따르는 루마 블록의 루마 서브블록의 수와 상기 수직 방향의 크로마 스케일링 인자의 값에 의존하는, 아핀 기반 인터 예측을 위한 장치.</claim></claimInfo><claimInfo><claim>34. 선행 항 중 어느 한 항에 있어서,상기 수평 방향의 서브블록 인덱스 xSbIdxL 및 상기 수직 방향의 서브블록 인덱스 ySbIdxL에 의해 인덱싱된 크로마 서브블록에 대해, 상기 루마 서브블록의 세트(S)는:S0 = (xSbIdxL, ySbIdxL),S1 = (xSbIdxL, ySbIdxL + (SubHeightC-1)),S2 = (xSbIdxL+ (SubWidthC-1), ySbIdxL), 또는S3 = (xSbIdxL+ (SubWidthC-1), ySbIdxL + (SubHeightC-1))에 의해 인덱싱된 서브블록 중 하나 이상을 포함하며;여기서 루마 서브블록 인덱스 S0는 수평 방향의 서브블록 인덱스 xSbIdxL 및 수직 방향의 서브블록 인덱스 ySbIdxL로 표현되고;루마 블록 인덱스 S1은 수평 방향 xSbIdxL의 서브블록 인덱스 및 수직 방향 ySbIdxL + (SubHeightC-1)의 서브블록 인덱스로 표현되고;루마 블록 인덱스 S2는 수평 방향 xSbIdxL+(SubWidthC-1)의 서브블록 인덱스 및 수직 방향 ySbIdxL의 서브블록 인덱스로 표현되고; 그리고루마 블록 인덱스 S3은 수평 방향 xSbIdxL+(SubWidthC-1)의 서브블록 인덱스 및 수직 방향 ySbIdxL+(SubHeightC-1)의 서브블록 인덱스로 표현되는, 아핀 기반 인터 예측을 위한 장치.</claim></claimInfo><claimInfo><claim>35. 선행 항 중 어느 한 항에 있어서,상기 루마 서브블록 세트(S)는:S0 = (xSbIdxL, ySbIdxL)에 의해 인덱싱된 제1 루마 서브블록 및S1 = (xSbIdxL+ (SubWidthC-1), ySbIdxL + (SubHeightC-1))에 의해 인덱싱된 제2 루마 서브블록을 포함하며;여기서 루마 블록 위치 S0는 수평 방향의 서브블록 인덱스 xSbIdxL 및 수직 방향의 서브블록 인덱스 ySbIdxL로 표현되고;루마 블록 위치 S1은 수평 방향 xSbIdxL+(SubWidthC-1)의 서브블록 인덱스 및 수직 방향 ySbIdxL+(SubHeightC-1)의 서브블록 인덱스로 표현되는, 아핀 기반 인터 예측을 위한 장치.</claim></claimInfo><claimInfo><claim>36. 선행 항 중 어느 한 항에 있어서,상기 크로마 포맷이 4:4:4일 때, 상기 세트(S)는 크로마 서브블록과 같은 위치에 있는 하나의 루마 서브블록을 포함하고;상기 크로마 포맷이 4:2:2일 때, 상기 세트(S)는 서로 수평으로 인접한 2 개의 루마 서브블록을 포함하고;상기 크로마 포맷이 4:2:0일 때, 상기 세트(S)는 대각선인 2 개의 루마 서브블록을 포함하는, 아핀 기반 인터 예측을 위한 장치.</claim></claimInfo><claimInfo><claim>37. 선행 항 중 어느 한 항에 있어서,상기 세트(S)에 하나 이상의 루마 서브블록이 있을 때, 상기 모션 벡터 유도 모듈은:평균화된 루마 모션 벡터를 생성하기 위해 상기 세트 S의 루마 서브블록의 모션 벡터를 평균화하고; 그리고상기 평균화된 루마 모션 벡터에 기초하여 상기 크로마 서브블록에 대한 모션 벡터를 유도하도록 구성되어 있는, 아핀 기반 인터 예측을 위한 장치.</claim></claimInfo><claimInfo><claim>38. 제37항에 있어서,상기 모션 벡터 유도 모듈은:상기 세트 S의 루마 서브블록의 모션 벡터의 수평 성분을 평균화하거나; 또는,상기 세트 S의 루마 서브블록의 모션 벡터의 수직 성분을 평균화하도록 구성되어 있는, 아핀 기반 인터 예측을 위한 장치.</claim></claimInfo><claimInfo><claim>39. 제37항 또는 제38항에 있어서,상기 모션 벡터 유도 모듈은 평균화된 루마 모션 벡터를 생성하기 위해 상기 세트 S의 루마 서브블록의 모션 벡터를 다음과 같이 평균화하도록 구성되어 있으며:mvAvgLX = mvAvgLX[ 0 ]이 0보다 크거나 같을 때, mvAvgLX[ 0 ] = ( mvAvgLX[ 0 ] + (　N003e#003e#1　)　-　1) 003e#003e# log2(N)이고, 그렇지 않으면,mvAvgLX[ 0 ] = - ( (- mvAvgLX[ 0 ] + (　N003e#003e#1　)　-　1) 003e#003e# log2(N) )이고;mvAvgLX[ 1 ]이 0보다 크거나 같을 때, mvAvgLX[ 1 ] = ( mvAvgLX[ 1 ] + (　N003e#003e#1　)　-　1) 003e#003e# log2(N)이고, 그렇지 않으면,mvAvgLX[ 1 ] = - ( (- mvAvgLX[ 1 ] + (　N003e#003e#1　)　-　1　) 003e#003e# log2(N) )이고,여기서:mvAvgLX는 평균화의 결과 모션 벡터이고;mvAvgLX[ 0 ]은 결과 모션 벡터 mvAvgLX의 수평 성분이고, mvAvgLX[ 1 ]은 결과 모션 벡터 mvAvgLX의 수직 성분이고; 및 는 모션 벡터 어레이의 루마 서브블록 세트(S)에서 서브블록 Si의 수평 인덱스 및 수직 인덱스이며,는  및 를 갖는 루마 서브블록의 모션 벡터이고, N은 루마 서브블록 세트(S)의 원소의 수이고, log2(N)은 밑수 2에 대한 N의 로그를 나타내며 값 N을 얻기 위해 숫자 2를 거듭제곱한 값이고, &quot;003e#003e#&quot;는 우측 산술 시프트를 나타내는, 아핀 기반 인터 예측을 위한 장치.</claim></claimInfo><claimInfo><claim>40. 제37항 내지 제39항 중 어느 한 항에 있어서,상기 모션 벡터 유도 모듈은:상기 세트 S의 루마 서브블록의 모션 벡터를 다음과 같이 평균화하며:mvAvgLX　=　mvLX[　(　xSbIdx　　003e#003e#　　(　SubWidthC　-　1　)　　003c#003c#　　(　SubWidthC　-1　)　)　] [　(ySbIdx　　003e#003e#　　(　SubHeightC　-1　)　　003c#003c#　　(　SubHeightC　-1　)　)　]　+ mvLX[　(　xSbIdx　　003e#003e#　　(SubWidthC　-1　)　　003c#003c#　　(　SubWidthC　-1)　)　+　(　SubWidthC　-1　)　] [　(　ySbIdx　　003e#003e#　　(　SubHeightC　-1　)　　003c#003c#　　(　SubHeightC　-1　)　)　+　(　SubHeightC　-1　)　]mvAvgLX[　0　] 003e#= 0이면mvAvgLX[ 0 ] =( mvAvgLX[ 0 ] + 1 -(　mvAvgLX[　0　] 003e#= 0　)　) 003e#003e# 1이고mvAvgLX[　1　] 003e#= 0이면mvAvgLX[ 1 ] =( mvAvgLX[ 1 ] + 1 -(　mvAvgLX[　1　] 003e#= 0　)　) 003e#003e# 1이며,여기서 mvAvgLX[0]은 평균 모션 벡터 mvAvgLX의 수평 성분이고, mvAvgLX[1]은 평균 모션 벡터 mvAvgLX의 수직 성분이고; SubWidthC 및 SubHeightC는 각각 수평 방향 및 수직 방향의 크로마 스케일링 인자를 나타내고; xSbIdx 및 ySbIdx는 세트(S)의 루마 서브블록에 대해 수평 방향의 서브블록 인덱스 및 수직 방향의 서브블록 인덱스를 각각 나타내며, &quot;003c#003c#&quot;는 좌측 산술 시프트이고 &quot;003e#003e#&quot;는 우측 산술 시프트인, 아핀 기반 인터 예측을 위한 장치.</claim></claimInfo><claimInfo><claim>41. 선행 항 중 어느 한 항에 있어서,상기 결정 모듈은:상기 크로마 포맷 정보와 수평 방향 및 수직 방향의 한 쌍의 크로마 스케일링 인자 간의 매핑에 기초하여 수평 방향 및 수직 방향의 크로마 스케일링 인자를 결정하도록 구성되어 있는, 아핀 기반 인터 예측을 위한 장치.</claim></claimInfo><claimInfo><claim>42. 선행 항 중 어느 한 항에 있어서,상기 결정된 모션 벡터에 기초하여 상기 크로마 서브블록의 예측을 생성하도록 구성되어 있는 모션 보상 모듈을 더 포함하는 아핀 기반 인터 예측을 위한 장치.</claim></claimInfo><claimInfo><claim>43. 선행 항 중 어느 한 항에 있어서,상기 크로마 포맷은 YUV 4:2:2 포맷, YUV 4:2:0 포맷 또는 YUV 4:4:4 포맷 중 하나를 포함하는, 아핀 기반 인터 예측을 위한 장치.</claim></claimInfo></claimInfoArray><applicantInfoArray><applicantInfo><address>중국 ****** 광동성 셴젠 롱강 디스트릭트 반티안 후아웨이 어드미니스트레이션 빌딩</address><code>520000572466</code><country>중국</country><engName>HUAWEI TECHNOLOGIES CO., LTD.</engName><name>후아웨이 테크놀러지 컴퍼니 리미티드</name></applicantInfo></applicantInfoArray><inventorInfoArray><inventorInfo><address>러시아 ****** 모스크...</address><code> </code><country> </country><engName>RUFITSKIY, Vasily Alexeevich</engName><name>루피트스키이 바실리 알렉시비치</name></inventorInfo><inventorInfo><address>러시아 ****** 모...</address><code> </code><country> </country><engName>SOLOVYEV, Timofey Mikhailovich</engName><name>솔로비예프 티모페이 미카일로비치</name></inventorInfo><inventorInfo><address>러시아 ****** 모스크...</address><code> </code><country> </country><engName>FILIPPOV, Alexey Konstantinovich</engName><name>필리포브 알렉세이 콘스탄티노비치</name></inventorInfo><inventorInfo><address>미국 ***** 캘리포니아주...</address><code> </code><country> </country><engName>CHEN, Jianle</engName><name>천 장러</name></inventorInfo></inventorInfoArray><agentInfoArray><agentInfo><address>서울특별시 강남구 테헤란로 ***, 서림빌딩 **층 (역삼동)</address><code>920011000036</code><country>대한민국</country><engName>YOU ME PATENT &amp; LAW FIRM</engName><name>유미특허법인</name></agentInfo></agentInfoArray><priorityInfoArray><priorityInfo><priorityApplicationCountry>미국</priorityApplicationCountry><priorityApplicationDate>2019.02.22</priorityApplicationDate><priorityApplicationNumber>62/809,551</priorityApplicationNumber></priorityInfo><priorityInfo><priorityApplicationCountry>미국</priorityApplicationCountry><priorityApplicationDate>2019.03.25</priorityApplicationDate><priorityApplicationNumber>62/823,653</priorityApplicationNumber></priorityInfo><priorityInfo><priorityApplicationCountry>미국</priorityApplicationCountry><priorityApplicationDate>2019.03.26</priorityApplicationDate><priorityApplicationNumber>62/824,302</priorityApplicationNumber></priorityInfo></priorityInfoArray><designatedStateInfoArray/><priorArtDocumentsInfoArray/><legalStatusInfoArray><legalStatusInfo><commonCodeName>보정승인간주 (Regarded as an acceptance of amendment) </commonCodeName><documentEngName>[Amendment to Description, etc.] Amendment</documentEngName><documentName>[명세서등 보정]보정서</documentName><receiptDate>2021.09.17</receiptDate><receiptNumber>1-1-2021-1085666-43</receiptNumber></legalStatusInfo><legalStatusInfo><commonCodeName>수리 (Accepted) </commonCodeName><documentEngName>[Patent Application] Document according to the Article 203 of Patent Act</documentEngName><documentName>[특허출원]특허법 제203조에 따른 서면</documentName><receiptDate>2021.09.17</receiptDate><receiptNumber>1-1-2021-1085359-31</receiptNumber></legalStatusInfo><legalStatusInfo><commonCodeName>발송처리완료 (Completion of Transmission) </commonCodeName><documentEngName>Notice of Acceptance</documentEngName><documentName>수리안내서</documentName><receiptDate>2021.09.28</receiptDate><receiptNumber>1-5-2021-0151773-72</receiptNumber></legalStatusInfo><legalStatusInfo><commonCodeName>수리 (Accepted) </commonCodeName><documentEngName>Request for Prior Art Search</documentEngName><documentName>선행기술조사의뢰서</documentName><receiptDate>2022.11.17</receiptDate><receiptNumber>9-1-9999-9999999-89</receiptNumber></legalStatusInfo><legalStatusInfo><commonCodeName>발송처리완료 (Completion of Transmission) </commonCodeName><documentEngName>Report of Prior Art Search</documentEngName><documentName>선행기술조사보고서</documentName><receiptDate>2022.12.13</receiptDate><receiptNumber>9-6-2024-0081893-13</receiptNumber></legalStatusInfo><legalStatusInfo><commonCodeName>발송처리완료 (Completion of Transmission) </commonCodeName><documentEngName>Notification of reason for refusal</documentEngName><documentName>의견제출통지서</documentName><receiptDate>2024.05.17</receiptDate><receiptNumber>9-5-2024-0408718-99</receiptNumber></legalStatusInfo><legalStatusInfo><commonCodeName>수리 (Accepted) </commonCodeName><documentEngName> </documentEngName><documentName>[거절이유 등 통지에 따른 의견]의견서·답변서·소명서</documentName><receiptDate>2024.07.17</receiptDate><receiptNumber>1-1-2024-0778403-09</receiptNumber></legalStatusInfo><legalStatusInfo><commonCodeName>보정승인간주 (Regarded as an acceptance of amendment) </commonCodeName><documentEngName>[Amendment to Description, etc.] Amendment</documentEngName><documentName>[명세서등 보정]보정서</documentName><receiptDate>2024.07.17</receiptDate><receiptNumber>1-1-2024-0778404-44</receiptNumber></legalStatusInfo><legalStatusInfo><commonCodeName>발송처리완료 (Completion of Transmission) </commonCodeName><documentEngName>Notification of reason for final refusal</documentEngName><documentName>최후의견제출통지서</documentName><receiptDate>2024.12.26</receiptDate><receiptNumber>9-5-2024-1116791-19</receiptNumber></legalStatusInfo><legalStatusInfo><commonCodeName>보정승인 (Acceptance of amendment) </commonCodeName><documentEngName>[Amendment to Description, etc.] Amendment</documentEngName><documentName>[명세서등 보정]보정서</documentName><receiptDate>2025.02.26</receiptDate><receiptNumber>1-1-2025-0222945-27</receiptNumber></legalStatusInfo><legalStatusInfo><commonCodeName>수리 (Accepted) </commonCodeName><documentEngName> </documentEngName><documentName>[거절이유 등 통지에 따른 의견]의견서·답변서·소명서</documentName><receiptDate>2025.02.26</receiptDate><receiptNumber>1-1-2025-0222944-82</receiptNumber></legalStatusInfo><legalStatusInfo><commonCodeName>발송처리완료 (Completion of Transmission) </commonCodeName><documentEngName>Decision to grant</documentEngName><documentName>등록결정서</documentName><receiptDate>2025.06.12</receiptDate><receiptNumber>9-5-2025-0557971-18</receiptNumber></legalStatusInfo><legalStatusInfo><commonCodeName>수리 (Accepted) </commonCodeName><documentEngName> </documentEngName><documentName>[거절이유 등 통지에 따른 의견]의견서·답변서·소명서</documentName><receiptDate>2025.09.12</receiptDate><receiptNumber>1-1-2025-1050521-72</receiptNumber></legalStatusInfo><legalStatusInfo><commonCodeName>수리 (Accepted) </commonCodeName><documentEngName>[Divisional Application(International Application)] Patent Application</documentEngName><documentName>[분할출원(국제출원)]특허출원서</documentName><receiptDate>2025.09.12</receiptDate><receiptNumber>1-1-2025-1052986-24</receiptNumber></legalStatusInfo><legalStatusInfo><commonCodeName>수리 (Accepted) </commonCodeName><documentEngName>Amendment to Description, etc(Reexamination)</documentEngName><documentName>[명세서등 보정]보정서(재심사)</documentName><receiptDate>2025.09.12</receiptDate><receiptNumber>1-1-2025-1050522-17</receiptNumber></legalStatusInfo></legalStatusInfoArray><imagePathInfo><docName>1020217030342.jpg</docName><largePath>http://plus.kipris.or.kr/kiprisplusws/fileToss.jsp?arg=6c650beb4cee9ce4122b704b88878c93ca86d4beaad08078209bc98071c860e304799993405052401d37c9d41f0c3a466fe9468c591f18da940abaab0aff057fd5955a062ef0fc8b</largePath><path>http://plus.kipris.or.kr/kiprisplusws/fileToss.jsp?arg=ed43a0609e94d6e22d01c5c32ba711cfeca7cae00d4da8fa8c83c9036ff49ed879ef26dd611bbb5ef552bf1098906b148d25e693cf07e410cff7d3f40d6efd1e342cd3175c720e74</path></imagePathInfo><rndInfoArray/></item></body><count><numOfRows>1</numOfRows><pageNo>1</pageNo><totalCount>1</totalCount></count></response>