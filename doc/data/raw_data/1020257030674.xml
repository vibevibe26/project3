<?xml version="1.0" encoding="UTF-8" standalone="yes"?><response><header><requestMsgID></requestMsgID><responseTime>2025-11-17 17:53:09.539</responseTime><responseMsgID></responseMsgID><successYN>Y</successYN><resultCode>00</resultCode><resultMsg>NORMAL SERVICE.</resultMsg></header><body><item><biblioSummaryInfoArray><biblioSummaryInfo><applicationDate>2020.02.24</applicationDate><applicationFlag>특허</applicationFlag><applicationNumber>10-2025-7030674</applicationNumber><claimCount>22</claimCount><examinerName> </examinerName><finalDisposal> </finalDisposal><inventionTitle>크로마 서브블록의 아핀 기반 인터 예측을 위한 방법 및 장치</inventionTitle><inventionTitleEng>METHOD AND APPARATUS FOR AFFINE BASED INTER PREDICTION OF  CHROMA SUBBLOCKS</inventionTitleEng><openDate>2025.09.19</openDate><openNumber>10-2025-0138295</openNumber><originalApplicationDate>2020.02.24</originalApplicationDate><originalApplicationKind>국제출원/분할</originalApplicationKind><originalApplicationNumber>10-2021-7030342</originalApplicationNumber><originalExaminationRequestDate>2025.09.12</originalExaminationRequestDate><originalExaminationRequestFlag>Y</originalExaminationRequestFlag><publicationDate> </publicationDate><publicationNumber> </publicationNumber><registerDate> </registerDate><registerNumber> </registerNumber><registerStatus>공개</registerStatus><translationSubmitDate>2025.09.12</translationSubmitDate></biblioSummaryInfo></biblioSummaryInfoArray><ipcInfoArray><ipcInfo><ipcDate>(2014.01.01)</ipcDate><ipcNumber>H04N 19/52</ipcNumber></ipcInfo><ipcInfo><ipcDate>(2014.01.01)</ipcDate><ipcNumber>H04N 19/527</ipcNumber></ipcInfo><ipcInfo><ipcDate>(2014.01.01)</ipcDate><ipcNumber>H04N 19/105</ipcNumber></ipcInfo><ipcInfo><ipcDate>(2014.01.01)</ipcDate><ipcNumber>H04N 19/124</ipcNumber></ipcInfo><ipcInfo><ipcDate>(2014.01.01)</ipcDate><ipcNumber>H04N 19/13</ipcNumber></ipcInfo><ipcInfo><ipcDate>(2014.01.01)</ipcDate><ipcNumber>H04N 19/176</ipcNumber></ipcInfo><ipcInfo><ipcDate>(2014.01.01)</ipcDate><ipcNumber>H04N 19/186</ipcNumber></ipcInfo><ipcInfo><ipcDate>(2014.01.01)</ipcDate><ipcNumber>H04N 19/196</ipcNumber></ipcInfo><ipcInfo><ipcDate>(2014.01.01)</ipcDate><ipcNumber>H04N 19/54</ipcNumber></ipcInfo><ipcInfo><ipcDate>(2014.01.01)</ipcDate><ipcNumber>H04N 19/70</ipcNumber></ipcInfo></ipcInfoArray><familyInfoArray><familyInfo><familyApplicationNumber>1020217030342</familyApplicationNumber></familyInfo></familyInfoArray><abstractInfoArray><abstractInfo><astrtCont> 본 발명은 크로마 포맷에 기반을 둔 크로마 서브블록의 아핀 기반 인터 예측을 위한 모션 벡터 유도 방법 및 장치에 관한 것이다. 상기 크로마 모션 벡터 유도 방법은: 크로마 포맷 정보에 기초하여 수평 방향 및 수직 방향의 크로마 스케일링 인자를 결정하는 단계 - 상기 크로마 포맷 정보는 상기 현재 픽처 블록이 속하는 현재 픽처의 크로마 포맷을 지시함 - ; 상기 크로마 스케일링 인자의 값에 기초하여 상기 루마 블록의 루마 서브블록의 세트(S)를 결정하는 단계; 상기 루마 서브블록의 세트(S)에서 하나 이상의 루마 서브블록의 모션 벡터에 기초하여 상기 크로마 블록의 크로마 서브블록에 대한 모션 벡터를 결정하는 단계를 포함한다. </astrtCont></abstractInfo></abstractInfoArray><internationalInfoArray><internationalInfo><internationOpenDate>2020.08.27</internationOpenDate><internationOpenNumber>WO2020169114</internationOpenNumber><internationalApplicationDate>2020.02.24</internationalApplicationDate><internationalApplicationNumber>PCT/CN2020/076493</internationalApplicationNumber></internationalInfo></internationalInfoArray><claimInfoArray><claimInfo><claim>1. 이미지 인코딩 방법으로서,인코딩된 비트스트림을 출력하기 위해, 인터 예측 모드로 코딩된 이미지 블록에 대해 이미지 인코딩 프로세스를 수행하는 단계를 포함하고,상기 이미지 블록은 루마 블록 및 동일 위치의 크로마 블록을 포함하고, 상기 이미지 인코딩 프로세스를 수행하는 단계는 크로마 모션 벡터 유도 프로세스를 포함하며,상기 크로마 모션 벡터 유도 프로세스는, 현재 이미지 블록이 속하는 현재 픽처의 크로마 포맷을 나타내는 크로마 포맷 정보에 기초하여 수평 방향 및 수직 방향의 크로마 스케일링 인자를 결정하고 - 상기 크로마 포맷은 YUV 4:2:2 포맷, YUV 4:2:0 포맷 또는 YUV 4:4:4 포맷 중 하나를 포함함 -, 상기 크로마 스케일링 인자의 값에 기초하여 루마 블록의 루마 서브블록의 세트(S)를 결정하며; 상기 세트(S)에 둘 이상의 루마 서브블록이 있는 경우, 상기 세트(S)의 루마 서브블록의 모션 벡터를 평균화하여 평균화된 루마 모션 벡터 mvAvgLX를 생성함으로써,평균화된 루마 모션 벡터 mvAvgLX를 획득하는 단계; 및상기 평균화된 루마 모션 벡터 mvAvgLX에 기초하여, 상기 크로마 블록의 크로마 서브블록 mvCLX[ xSbIdx ][ ySbIdx ]에 대한 크로마 모션 벡터를 유도하는 단계를 포함하고,상기 크로마 모션 벡터를 유도하는 과정은 입력으로 mvAvgLX를 사용하고 출력으로 크로마 모션 벡터 mvCLX[ xSbIdx ][ ySbIdx ]를 사용하는 다음과 같은 방식으로 수행되고,mvCLX[ 0 ] = mvLX[ 0 ] * 2 / SubWidthC상기 이미지 블록에 대한 refIdxLX에 대응하는 참조 화상이 현재 화상이 아닌 경우, mvCLX[ 1 ] = mvLX[ 1 ] * 2 / SubHeightC, 또는mvCLX[ 0 ] = ( ( mvLX[ 0 ] 003e#003e# ( 3 + SubWidthC ) ) * 32상기 이미지 블록에 대한 refIdxLX에 대응하는 참조 화상이 현재 화상인 경우, mvCLX[ 1 ] = ( ( mvLX[ 1 ] 003e#003e# ( 3 + SubHeightC ) ) * 32,mvLX[ 0 ]은 mvAvgLX의 수평 성분에 대응하고, mvLX[ 1 ]은 mvAvgLX의 수직 성분에 대응하고,SubWidthC 및 SubHeightC가 모두 1일 때, 상기 루마 서브블록의 세트(S)는:S0 = (xSbIdx, ySbIdx)으로 인덱싱된 루마 서브블록이며;SubWidthC 및 SubHeightC 중 적어도 하나가 1과 같지 않을 때, 상기 루마 서브블록의 세트(S)는:S0 = ((　xSbIdx　　003e#003e#　　(　SubWidthC　-　1　)　　003c#003c#　　(　SubWidthC　-1　)　), (ySbIdx　　003e#003e#　　(　SubHeightC　-　1　)　　003c#003c#　　(　SubHeightC　-1　)　))으로 인덱싱된 제1 루마 서브블록, 및S1 = ((　xSbIdx　　003e#003e#　　(SubWidthC　-　1　)　　003c#003c#　　(　SubWidthC　-1)　)　+　(　SubWidthC　-1　), (　ySbIdx　　003e#003e#　　(　SubHeightC　-　1　)　　003c#003c#　　(　SubHeightC　-1　)　)　+　(　SubHeightC　-1　)　)으로 인덱싱된 제2 루마 서브블록이며,SubWidthC 및 SubHeightC는 각각 수평 방향 및 수직 방향의 크로마 스케일링 인자를 나타내고;xSbIdx 및 ySbIdx는 상기 세트(S)의 루마 서브블록에 대한 수평 방향의 서브블록 인덱스 및 수직 방향의 서브블록 인덱스를 각각 나타내고;&quot;003c#003c#&quot;는 좌측 산술 시프트(left arithmetic shift)을 나타내고;&quot;003e#003e#&quot;는 우측 산술 시프트(right arithmetic shift)를 나타내고;xSbIdx는 0에서 numSbX - 1까지의 정수이고 ySbIdx는 0에서 numSbY - 1까지의 정수이고;numSbX는 수평 방향을 따르는 루마 블록의 루마 서브블록의 수를 나타내고; 그리고numSbY는 수직 방향을 따르는 루마 블록의 루마 서브블록의 수를 나타내는, 이미지 인코딩 방법.</claim></claimInfo><claimInfo><claim>2. 제1항에 있어서,상기 세트(S)의 하나 이상의 루마 서브블록 각각은 수평 방향의 서브블록 인덱스 및 수직 방향의 서브블록 인덱스로 표현되는, 이미지 인코딩 방법.</claim></claimInfo><claimInfo><claim>3. 제1항에 있어서,상기 수평 방향 및 상기 수직 방향을 따르는 상기 크로마 블록의 크로마 서브블록의 수는 상기 수평 방향 및 상기 수직 방향을 따르는 상기 루마 블록의 루마 서브블록의 수와 각각 동일한, 이미지 인코딩 방법.</claim></claimInfo><claimInfo><claim>4. 제1항에 있어서,상기 크로마 포맷이 4:4:4일 때, 상기 세트(S)는 크로마 서브블록과 같은 위치에 있는 하나의 루마 서브블록이고;상기 크로마 포맷이 4:2:2일 때, 상기 세트(S)는 서로 수평으로 인접한 2 개의 루마 서브블록이며;상기 크로마 포맷이 4:2:0일 때, 상기 세트(S)는 대각선인 2 개의 루마 서브블록인, 이미지 인코딩 방법.</claim></claimInfo><claimInfo><claim>5. 제1항에 있어서,상기 세트 S의 루마 서브블록의 모션 벡터를 평균화하는 단계는,상기 세트 S의 루마 서브블록의 모션 벡터의 수평 성분을 평균화하는 단계; 또는,상기 세트 S의 루마 서브블록의 모션 벡터의 수직 성분을 평균화하는 단계중 하나 이상을 포함하는, 이미지 인코딩 방법.</claim></claimInfo><claimInfo><claim>6. 제1항에 있어서,상기 세트 S의 루마 서브블록의 모션 벡터를 평균화함으로써 평균화된 루마 모션 벡터를 생성하는 것은, mvAvgLX = mvAvgLX[ 0 ]이 0보다 크거나 같을 때, mvAvgLX[ 0 ] = ( mvAvgLX[ 0 ] + (　N003e#003e#1　)　-　1) 003e#003e# log2(N)이고, 그렇지 않으면,mvAvgLX[ 0 ] = - ( (- mvAvgLX[ 0 ] + (　N003e#003e#1　)　-　1) 003e#003e# log2(N) )이고;mvAvgLX[ 1 ]이 0보다 크거나 같을 때, mvAvgLX[ 1 ] = ( mvAvgLX[ 1 ] + (　N003e#003e#1　)　-　1) 003e#003e# log2(N)이고, 그렇지 않으면,mvAvgLX[ 1 ] = - ( (- mvAvgLX[ 1 ] + (　N003e#003e#1　)　-　1　) 003e#003e# log2(N) )인,수학식에 기초하여 상기 평균화된 루마 모션 벡터를 계산하는 것을 포함하며,mvAvgLX는 평균화의 결과 모션 벡터이고; 및 는 모션 벡터 어레이의 루마 서브블록 세트(S)에서 서브블록 Si의 수평 인덱스 및 수직 인덱스이며,는 인덱스  및 를 갖는 루마 서브블록의 모션 벡터이고, N은 루마 서브블록 세트(S)의 원소(element)의 수이고, log2(N)은 밑수 2에 대한 N의 로그를 나타내며 값 N을 얻기 위해 숫자 2를 거듭제곱한 값인, 이미지 인코딩 방법.</claim></claimInfo><claimInfo><claim>7. 제1항에 있어서,상기 세트 S의 루마 서브블록의 모션 벡터를 평균화하는 것은:mvAvgLX　=　mvLX[　(　xSbIdx　　003e#003e#　　(　SubWidthC　-　1　)　　003c#003c#　　(　SubWidthC　-1　)　)　] [　(ySbIdx　　003e#003e#　　(　SubHeightC　-1　)　　003c#003c#　　(　SubHeightC　-1　)　)　]　+ mvLX[　(　xSbIdx　　003e#003e#　　(SubWidthC　-1　)　　003c#003c#　　(　SubWidthC　-1)　)　+　(　SubWidthC　-1　)　] [　(　ySbIdx　　003e#003e#　　(　SubHeightC　-1　)　　003c#003c#　　(　SubHeightC　-1　)　)　+　(　SubHeightC　-1　)　]mvAvgLX[　0　] 003e#= 0이면mvAvgLX[ 0 ] =( mvAvgLX[ 0 ] + 1 -(　mvAvgLX[　0　] 003e#= 0　)　) 003e#003e# 1이고mvAvgLX[　1　] 003e#= 0이면mvAvgLX[ 1 ] =( mvAvgLX[ 1 ] + 1 -(　mvAvgLX[　1　] 003e#= 0　)　) 003e#003e# 1인것을 포함하는, 이미지 인코딩 방법.</claim></claimInfo><claimInfo><claim>8. 제1항에 있어서,상기 크로마 포맷 정보에 기초하여 수평 방향 및 수직 방향의 크로마 스케일링 인자를 각각 결정하는 것은,상기 크로마 포맷 정보와 수평 방향 및 수직 방향의 한 쌍의 크로마 스케일링 인자 간의 매핑에 기초하여 수평 방향 및 수직 방향의 크로마 스케일링 인자를 각각 결정하는 것을 포함하는, 이미지 인코딩 방법.</claim></claimInfo><claimInfo><claim>9. 제1항에 있어서,상기 이미지 인코딩 프로세스를 수행하는 단계는,결정된 크로마 모션 벡터에 기초하여 크로마 서브블록의 예측을 생성하는 단계;크로마 서브블록의 예측에 따라 크로마 서브블록의 잔차를 획득하는 단계 - 상기 이미지 블록의 잔차는 상기 크로마 블록의 크로마 서브블록의 잔차를 포함함 -; 및상기 이미지 블록의 잔차에 대해 변환, 양자화 및 엔트로피 코딩을 수행하여 인코딩된 비트스트림을 출력하는 단계를 더 포함하는, 이미지 인코딩 방법.</claim></claimInfo><claimInfo><claim>10. 제1항에 있어서,상기 이미지 블록은 아핀 기반 인터 예측 모드로 코딩되는, 이미지 인코딩 방법.</claim></claimInfo><claimInfo><claim>11. 인코딩 장치로서,비디오 데이터 메모리; 및인코딩된 비트스트림을 출력하기 위해, 인터 예측 모드로 코딩된 이미지 블록에 대해 이미지 인코딩 프로세스를 수행하도록 구성된 비디오 인코더를 포함하고,상기 이미지 블록은 루마 블록 및 동일 위치의 크로마 블록을 포함하고, 상기 이미지 인코딩 프로세스를 수행하는 것은 크로마 모션 벡터 유도 프로세스를 포함하며,상기 크로마 모션 벡터 유도 프로세스는, 크로마 포맷 정보에 기초하여 수평 방향 및 수직 방향의 크로마 스케일링 인자를 결정하고 - 상기 크로마 포맷 정보는 현재 이미지 블록이 속하는 현재 픽처의 크로마 포맷을 나타내고, 상기 크로마 포맷은 YUV 4:2:2 포맷, YUV 4:2:0 포맷 또는 YUV 4:4:4 포맷 중 하나를 포함함 -, 상기 크로마 스케일링 인자의 값에 기초하여 루마 블록의 루마 서브블록의 세트(S)를 결정하며; 상기 세트(S)에 둘 이상의 루마 서브블록이 있는 경우, 상기 세트(S)의 루마 서브블록의 모션 벡터를 평균화하여 평균화된 루마 모션 벡터 mvAvgLX를 생성함으로써,평균화된 루마 모션 벡터 mvAvgLX를 획득하는 것; 그리고상기 평균화된 루마 모션 벡터 mvAvgLX에 기초하여, 상기 크로마 블록의 크로마 서브블록 mvCLX[ xSbIdx ][ ySbIdx ]에 대한 크로마 모션 벡터를 유도하는 것을 포함하고,상기 크로마 모션 벡터를 유도하는 과정은 입력으로 mvAvgLX를 사용하고 출력으로 크로마 모션 벡터 mvCLX[ xSbIdx ][ ySbIdx ]를 사용하는 다음과 같은 방식으로 수행되고,mvCLX[ 0 ] = mvLX[ 0 ] * 2 / SubWidthC상기 이미지 블록에 대한 refIdxLX에 대응하는 참조 화상이 현재 화상이 아닌 경우, mvCLX[ 1 ] = mvLX[ 1 ] * 2 / SubHeightC, 또는mvCLX[ 0 ] = ( ( mvLX[ 0 ] 003e#003e# ( 3 + SubWidthC ) ) * 32상기 이미지 블록에 대한 refIdxLX에 대응하는 참조 화상이 현재 화상인 경우, mvCLX[ 1 ] = ( ( mvLX[ 1 ] 003e#003e# ( 3 + SubHeightC ) ) * 32,mvLX[ 0 ]은 mvAvgLX의 수평 성분에 대응하고, mvLX[ 1 ]은 mvAvgLX의 수직 성분에 대응하고,SubWidthC 및 SubHeightC가 모두 1일 때, 상기 루마 서브블록의 세트(S)는:S0 = (xSbIdx, ySbIdx)으로 인덱싱된 루마 서브블록이며;SubWidthC 및 SubHeightC 중 적어도 하나가 1과 같지 않을 때, 상기 루마 서브블록의 세트(S)는:S0 = ((　xSbIdx　　003e#003e#　　(　SubWidthC　-　1　)　　003c#003c#　　(　SubWidthC　-1　)　), (ySbIdx　　003e#003e#　　(　SubHeightC　-　1　)　　003c#003c#　　(　SubHeightC　-1　)　))으로 인덱싱된 제1 루마 서브블록, 및S1 = ((　xSbIdx　　003e#003e#　　(SubWidthC　-　1　)　　003c#003c#　　(　SubWidthC　-1)　)　+　(　SubWidthC　-1　), (　ySbIdx　　003e#003e#　　(　SubHeightC　-　1　)　　003c#003c#　　(　SubHeightC　-1　)　)　+　(　SubHeightC　-1　)　)으로 인덱싱된 제2 루마 서브블록이며,SubWidthC 및 SubHeightC는 각각 수평 방향 및 수직 방향의 크로마 스케일링 인자를 나타내고;xSbIdx 및 ySbIdx는 상기 세트(S)의 루마 서브블록에 대한 수평 방향의 서브블록 인덱스 및 수직 방향의 서브블록 인덱스를 각각 나타내고;&quot;003c#003c#&quot;는 좌측 산술 시프트(left arithmetic shift)을 나타내고;&quot;003e#003e#&quot;는 우측 산술 시프트(right arithmetic shift)를 나타내고;xSbIdx는 0에서 numSbX - 1까지의 정수이고 ySbIdx는 0에서 numSbY - 1까지의 정수이고;numSbX는 수평 방향을 따르는 루마 블록의 루마 서브블록의 수를 나타내고; 그리고numSbY는 수직 방향을 따르는 루마 블록의 루마 서브블록의 수를 나타내는, 인코딩 장치.</claim></claimInfo><claimInfo><claim>12. 제11항에 있어서,상기 세트(S)의 하나 이상의 루마 서브블록 각각은 수평 방향의 서브블록 인덱스 및 수직 방향의 서브블록 인덱스로 표현되는, 인코딩 장치.</claim></claimInfo><claimInfo><claim>13. 제11항에 있어서,상기 수평 방향 및 상기 수직 방향을 따르는 상기 크로마 블록의 크로마 서브블록의 수는 상기 수평 방향 및 상기 수직 방향을 따르는 상기 루마 블록의 루마 서브블록의 수와 각각 동일한, 인코딩 장치.</claim></claimInfo><claimInfo><claim>14. 제11항에 있어서,상기 크로마 포맷이 4:4:4일 때, 상기 세트(S)는 크로마 서브블록과 같은 위치에 있는 하나의 루마 서브블록이고;상기 크로마 포맷이 4:2:2일 때, 상기 세트(S)는 서로 수평으로 인접한 2 개의 루마 서브블록이며;상기 크로마 포맷이 4:2:0일 때, 상기 세트(S)는 대각선인 2 개의 루마 서브블록인, 인코딩 장치.</claim></claimInfo><claimInfo><claim>15. 제11항에 있어서,상기 비디오 인코더는 또한,상기 세트 S의 루마 서브블록의 모션 벡터의 수평 성분을 평균화하거나;상기 세트 S의 루마 서브블록의 모션 벡터의 수직 성분을 평균화하도록 구성되는, 인코딩 장치.</claim></claimInfo><claimInfo><claim>16. 제11항에 있어서,상기 비디오 인코더는 또한, 상기 세트(S)의 루마 서브블록의 모션 벡터를 다음과 같이 평균화하여,mvAvgLX = mvAvgLX[ 0 ]이 0보다 크거나 같을 때, mvAvgLX[ 0 ] = ( mvAvgLX[ 0 ] + (　N003e#003e#1　)　-　1) 003e#003e# log2(N)이고, 그렇지 않으면,mvAvgLX[ 0 ] = - ( (- mvAvgLX[ 0 ] + (　N003e#003e#1　)　-　1) 003e#003e# log2(N) )이고;mvAvgLX[ 1 ]이 0보다 크거나 같을 때, mvAvgLX[ 1 ] = ( mvAvgLX[ 1 ] + (　N003e#003e#1　)　-　1) 003e#003e# log2(N)이고, 그렇지 않으면,mvAvgLX[ 1 ] = - ( (- mvAvgLX[ 1 ] + (　N003e#003e#1　)　-　1　) 003e#003e# log2(N),평균화된 루마 모션 벡터를 생성하도록 구성되고,mvAvgLX는 평균화의 결과 모션 벡터이고; 및 는 모션 벡터 어레이의 루마 서브블록 세트(S)에서 서브블록 Si의 수평 인덱스 및 수직 인덱스이며,는 인덱스  및 를 갖는 루마 서브블록의 모션 벡터이고, N은 루마 서브블록 세트(S)의 원소(element)의 수이고, log2(N)은 밑수 2에 대한 N의 로그를 나타내며 값 N을 얻기 위해 숫자 2를 거듭제곱한 값인, 인코딩 장치.</claim></claimInfo><claimInfo><claim>17. 제11항에 있어서,상기 인코더는 또한, 세트(S)의 루마 서브블록의 모션 벡터를 다음과 같이 평균화하여,mvAvgLX　=　mvLX[　(　xSbIdx　　003e#003e#　　(　SubWidthC　-　1　)　　003c#003c#　　(　SubWidthC　-1　)　)　] [　(ySbIdx　　003e#003e#　　(　SubHeightC　-1　)　　003c#003c#　　(　SubHeightC　-1　)　)　]　+ mvLX[　(　xSbIdx　　003e#003e#　　(SubWidthC　-1　)　　003c#003c#　　(　SubWidthC　-1)　)　+　(　SubWidthC　-1　)　] [　(　ySbIdx　　003e#003e#　　(　SubHeightC　-1　)　　003c#003c#　　(　SubHeightC　-1　)　)　+　(　SubHeightC　-1　)　]mvAvgLX[　0　] 003e#= 0이면mvAvgLX[ 0 ] =( mvAvgLX[ 0 ] + 1 -(　mvAvgLX[　0　] 003e#= 0　)　) 003e#003e# 1이고mvAvgLX[　1　] 003e#= 0이면mvAvgLX[ 1 ] =( mvAvgLX[ 1 ] + 1 -(　mvAvgLX[　1　] 003e#= 0　)　) 003e#003e# 1,평균화된 루마 모션 벡터를 생성하도록 구성되는, 인코딩 장치.</claim></claimInfo><claimInfo><claim>18. 제11항에 있어서,상기 비디오 인코더는 또한, 상기 크로마 포맷 정보와 수평 방향 및 수직 방향의 한 쌍의 크로마 스케일링 인자 간의 매핑에 기초하여 수평 방향 및 수직 방향의 크로마 스케일링 인자를 각각 결정하도록 구성되는, 인코딩 장치.</claim></claimInfo><claimInfo><claim>19. 제11항에 있어서,상기 비디오 인코더는 또한,결정된 크로마 모션 벡터에 기초하여 크로마 서브블록의 예측을 생성하고;크로마 서브블록의 예측에 따라 크로마 서브블록의 잔차를 획득하며 - 상기 이미지 블록의 잔차는 상기 크로마 블록의 크로마 서브블록의 잔차를 포함함 -;상기 이미지 블록의 잔차에 대해 변환, 양자화 및 엔트로피 코딩을 수행하여 인코딩된 비트스트림을 출력하도록 구성되는, 인코딩 장치.</claim></claimInfo><claimInfo><claim>20. 제11항에 있어서,상기 이미지 블록은 아핀 기반 인터 예측 모드로 코딩되는, 인코딩 장치.</claim></claimInfo><claimInfo><claim>21. 프로그램 명령을 저장하는 비일시적(non-transitory) 컴퓨터 판독가능 매체로서,상기 프로그램 명령은, 하나 이상의 프로세서에 의해 실행될 때, 상기 하나 이상의 프로세서로 하여금 루마 블록 및 동일 위치의 크로마 블록을 포함하는 현재 이미지 블록의 아핀 기반 인터 예측에서 사용되는 크로마 모션 벡터 유도의 동작을 수행하게 하고, 상기 동작은,인터 예측 모드로 코딩된 이미지 블록에 대해 이미지 인코딩 프로세스를 수행하여 인코딩된 비트스트림을 출력하는 것을 포함하고,상기 이미지 블록은 루마 블록 및 동일 위치의 크로마 블록을 포함하고,상기 이미지 인코딩 프로세스를 수행하는 것은 크로마 모션 벡터 유도 프로세스를 포함하며,상기 크로마 모션 벡터 유도 프로세스는, 크로마 포맷 정보에 기초하여 수평 방향 및 수직 방향의 크로마 스케일링 인자를 결정하고 - 상기 크로마 포맷 정보는 현재 이미지 블록이 속하는 현재 픽처의 크로마 포맷을 나타내고, 상기 크로마 포맷은 YUV 4:2:2 포맷, YUV 4:2:0 포맷 또는 YUV 4:4:4 포맷 중 하나를 포함함 -, 상기 크로마 스케일링 인자의 값에 기초하여 루마 블록의 루마 서브블록의 세트(S)를 결정하며; 상기 세트(S)에 둘 이상의 루마 서브블록이 있는 경우, 상기 세트(S)의 루마 서브블록의 모션 벡터를 평균화하여 평균화된 루마 모션 벡터 mvAvgLX를 생성함으로써,평균화된 루마 모션 벡터 mvAvgLX를 획득하는 것;상기 평균화된 루마 모션 벡터 mvAvgLX에 기초하여, 상기 크로마 블록의 크로마 서브블록 mvCLX[ xSbIdx ][ ySbIdx ]에 대한 크로마 모션 벡터를 유도하는 것을 포함하고,상기 크로마 모션 벡터를 유도하는 과정은 입력으로 mvAvgLX를 사용하고 출력으로 크로마 모션 벡터 mvCLX[ xSbIdx ][ ySbIdx ]를 사용하는 다음과 같은 방식으로 수행되고,mvCLX[ 0 ] = mvLX[ 0 ] * 2 / SubWidthC상기 이미지 블록에 대한 refIdxLX에 대응하는 참조 화상이 현재 화상이 아닌 경우, mvCLX[ 1 ] = mvLX[ 1 ] * 2 / SubHeightC, 또는mvCLX[ 0 ] = ( ( mvLX[ 0 ] 003e#003e# ( 3 + SubWidthC ) ) * 32상기 이미지 블록에 대한 refIdxLX에 대응하는 참조 화상이 현재 화상인 경우, mvCLX[ 1 ] = ( ( mvLX[ 1 ] 003e#003e# ( 3 + SubHeightC ) ) * 32,mvLX[ 0 ]은 mvAvgLX의 수평 성분에 대응하고, mvLX[ 1 ]은 mvAvgLX의 수직 성분에 대응하고,SubWidthC 및 SubHeightC가 모두 1일 때, 상기 루마 서브블록의 세트(S)는:S0 = (xSbIdx, ySbIdx)으로 인덱싱된 루마 서브블록이며;SubWidthC 및 SubHeightC 중 적어도 하나가 1과 같지 않을 때, 상기 루마 서브블록의 세트(S)는:S0 = ((　xSbIdx　　003e#003e#　　(　SubWidthC　-　1　)　　003c#003c#　　(　SubWidthC　-1　)　), (ySbIdx　　003e#003e#　　(　SubHeightC　-　1　)　　003c#003c#　　(　SubHeightC　-1　)　))으로 인덱싱된 제1 루마 서브블록, 및S1 = ((　xSbIdx　　003e#003e#　　(SubWidthC　-　1　)　　003c#003c#　　(　SubWidthC　-1)　)　+　(　SubWidthC　-1　), (　ySbIdx　　003e#003e#　　(　SubHeightC　-　1　)　　003c#003c#　　(　SubHeightC　-1　)　)　+　(　SubHeightC　-1　)　)으로 인덱싱된 제2 루마 서브블록이며,SubWidthC 및 SubHeightC는 각각 수평 방향 및 수직 방향의 크로마 스케일링 인자를 나타내고;xSbIdx 및 ySbIdx는 상기 세트(S)의 루마 서브블록에 대한 수평 방향의 서브블록 인덱스 및 수직 방향의 서브블록 인덱스를 각각 나타내고;&quot;003c#003c#&quot;는 좌측 산술 시프트(left arithmetic shift)을 나타내고;&quot;003e#003e#&quot;는 우측 산술 시프트(right arithmetic shift)를 나타내고;xSbIdx는 0에서 numSbX - 1까지의 정수이고 ySbIdx는 0에서 numSbY - 1까지의 정수이고;numSbX는 수평 방향을 따르는 루마 블록의 루마 서브블록의 수를 나타내고; 그리고numSbY는 수직 방향을 따르는 루마 블록의 루마 서브블록의 수를 나타내는, 비일시적 컴퓨터 판독가능 매체.</claim></claimInfo><claimInfo><claim>22. 비디오 신호와 관련된 데이터를 저장하기 위한 비일시적(non-transitory) 컴퓨터 판독가능 매체로서,비디오 신호에 대한 인코딩된 비트스트림을 포함하고, 상기 인코딩된 비트스트림은,인코딩된 비트스트림을 출력하기 위해, 인터 예측 모드로 코딩된 이미지 블록에 대해 이미지 인코딩 프로세스를 수행하는 것을 포함하는 동작에 따라 생성되며,상기 이미지 블록은 루마 블록 및 동일 위치의 크로마 블록을 포함하고, 상기 이미지 인코딩 프로세스를 수행하는 것은 크로마 모션 벡터 유도 프로세스를 포함하며,상기 크로마 모션 벡터 유도 프로세스는, 크로마 포맷 정보에 기초하여 수평 방향 및 수직 방향의 크로마 스케일링 인자를 결정하고 - 상기 크로마 포맷 정보는 현재 이미지 블록이 속하는 현재 픽처의 크로마 포맷을 나타내고, 상기 크로마 포맷은 YUV 4:2:2 포맷, YUV 4:2:0 포맷 또는 YUV 4:4:4 포맷 중 하나를 포함함 -, 상기 크로마 스케일링 인자의 값에 기초하여 루마 블록의 루마 서브블록의 세트(S)를 결정하며; 상기 세트(S)에 둘 이상의 루마 서브블록이 있는 경우, 상기 세트(S)의 루마 서브블록의 모션 벡터를 평균화하여 평균화된 루마 모션 벡터 mvAvgLX를 생성함으로써,평균화된 루마 모션 벡터 mvAvgLX를 획득하는 것;상기 평균화된 루마 모션 벡터 mvAvgLX에 기초하여, 상기 크로마 블록의 크로마 서브블록 mvCLX[ xSbIdx ][ ySbIdx ]에 대한 크로마 모션 벡터를 유도하는 것을 포함하고,상기 크로마 모션 벡터를 유도하는 과정은 입력으로 mvAvgLX를 사용하고 출력으로 크로마 모션 벡터 mvCLX[ xSbIdx ][ ySbIdx ]를 사용하는 다음과 같은 방식으로 수행되고,mvCLX[ 0 ] = mvLX[ 0 ] * 2 / SubWidthC상기 이미지 블록에 대한 refIdxLX에 대응하는 참조 화상이 현재 화상이 아닌 경우, mvCLX[ 1 ] = mvLX[ 1 ] * 2 / SubHeightC, 또는mvCLX[ 0 ] = ( ( mvLX[ 0 ] 003e#003e# ( 3 + SubWidthC ) ) * 32상기 이미지 블록에 대한 refIdxLX에 대응하는 참조 화상이 현재 화상인 경우, mvCLX[ 1 ] = ( ( mvLX[ 1 ] 003e#003e# ( 3 + SubHeightC ) ) * 32,mvLX[ 0 ]은 mvAvgLX의 수평 성분에 대응하고, mvLX[ 1 ]은 mvAvgLX의 수직 성분에 대응하고,SubWidthC 및 SubHeightC가 모두 1일 때, 상기 루마 서브블록의 세트(S)는:S0 = (xSbIdx, ySbIdx)으로 인덱싱된 루마 서브블록이며;SubWidthC 및 SubHeightC 중 적어도 하나가 1과 같지 않을 때, 상기 루마 서브블록의 세트(S)는:S0 = ((　xSbIdx　　003e#003e#　　(　SubWidthC　-　1　)　　003c#003c#　　(　SubWidthC　-1　)　), (ySbIdx　　003e#003e#　　(　SubHeightC　-　1　)　　003c#003c#　　(　SubHeightC　-1　)　))으로 인덱싱된 제1 루마 서브블록, 및S1 = ((　xSbIdx　　003e#003e#　　(SubWidthC　-　1　)　　003c#003c#　　(　SubWidthC　-1)　)　+　(　SubWidthC　-1　), (　ySbIdx　　003e#003e#　　(　SubHeightC　-　1　)　　003c#003c#　　(　SubHeightC　-1　)　)　+　(　SubHeightC　-1　)　)으로 인덱싱된 제2 루마 서브블록이며,SubWidthC 및 SubHeightC는 각각 수평 방향 및 수직 방향의 크로마 스케일링 인자를 나타내고;xSbIdx 및 ySbIdx는 상기 세트(S)의 루마 서브블록에 대한 수평 방향의 서브블록 인덱스 및 수직 방향의 서브블록 인덱스를 각각 나타내고;&quot;003c#003c#&quot;는 좌측 산술 시프트(left arithmetic shift)을 나타내고;&quot;003e#003e#&quot;는 우측 산술 시프트(right arithmetic shift)를 나타내고;xSbIdx는 0에서 numSbX - 1까지의 정수이고 ySbIdx는 0에서 numSbY - 1까지의 정수이고;numSbX는 수평 방향을 따르는 루마 블록의 루마 서브블록의 수를 나타내고; 그리고numSbY는 수직 방향을 따르는 루마 블록의 루마 서브블록의 수를 나타내는, 비일시적 컴퓨터 판독가능 매체.</claim></claimInfo></claimInfoArray><applicantInfoArray><applicantInfo><address>중국 ****** 광동성 셴젠 롱강 디스트릭트 반티안 후아웨이 어드미니스트레이션 빌딩</address><code>520000572466</code><country>중국</country><engName>HUAWEI TECHNOLOGIES CO., LTD.</engName><name>후아웨이 테크놀러지 컴퍼니 리미티드</name></applicantInfo></applicantInfoArray><inventorInfoArray><inventorInfo><address>러시아 ****** 모스크...</address><code> </code><country>러시아</country><engName>RUFITSKIY, Vasily Alexeevich</engName><name>루피트스키이 바실리 알렉시비치</name></inventorInfo><inventorInfo><address>러시아 ****** 모...</address><code> </code><country>러시아</country><engName>SOLOVYEV, Timofey Mikhailovich</engName><name>솔로비예프 티모페이 미카일로비치</name></inventorInfo><inventorInfo><address>러시아 ****** 모스크...</address><code> </code><country>러시아</country><engName>FILIPPOV, Alexey Konstantinovich</engName><name>필리포브 알렉세이 콘스탄티노비치</name></inventorInfo><inventorInfo><address>미국 ***** 캘리포니아주...</address><code> </code><country>중국</country><engName>CHEN, Jianle</engName><name>천 장러</name></inventorInfo></inventorInfoArray><agentInfoArray><agentInfo><address>서울특별시 강남구 테헤란로 ***, 서림빌딩 **층 (역삼동)</address><code>920011000036</code><country>대한민국</country><engName>YOU ME PATENT &amp; LAW FIRM</engName><name>유미특허법인</name></agentInfo></agentInfoArray><priorityInfoArray><priorityInfo><priorityApplicationCountry>미국</priorityApplicationCountry><priorityApplicationDate>2019.02.22</priorityApplicationDate><priorityApplicationNumber>62/809,551</priorityApplicationNumber></priorityInfo><priorityInfo><priorityApplicationCountry>미국</priorityApplicationCountry><priorityApplicationDate>2019.03.25</priorityApplicationDate><priorityApplicationNumber>62/823,653</priorityApplicationNumber></priorityInfo><priorityInfo><priorityApplicationCountry>미국</priorityApplicationCountry><priorityApplicationDate>2019.03.26</priorityApplicationDate><priorityApplicationNumber>62/824,302</priorityApplicationNumber></priorityInfo></priorityInfoArray><designatedStateInfoArray/><priorArtDocumentsInfoArray/><legalStatusInfoArray><legalStatusInfo><commonCodeName>수리 (Accepted) </commonCodeName><documentEngName>[Divisional Application(International Application)] Patent Application</documentEngName><documentName>[분할출원(국제출원)]특허출원서</documentName><receiptDate>2025.09.12</receiptDate><receiptNumber>1-1-2025-1052986-24</receiptNumber></legalStatusInfo></legalStatusInfoArray><imagePathInfo><docName>1020257030674.jpg</docName><largePath>http://plus.kipris.or.kr/kiprisplusws/fileToss.jsp?arg=6c650beb4cee9ce4122b704b88878c93ca4a6390016a98689790947b5f9ae8e0ece7a80f99978f17efa64354b31d7540878c730c87273cadee0462e1523dd1dffc08e84696a14a95</largePath><path>http://plus.kipris.or.kr/kiprisplusws/fileToss.jsp?arg=ed43a0609e94d6e22d01c5c32ba711cfbdf0409d25b10693047fe2e48ffab2194e7049b2e88537244f3f5fc38e08e92965d758d9b029ab79838e3f4407a483e141df00c850fe3b49</path></imagePathInfo><rndInfoArray/></item></body><count><numOfRows>1</numOfRows><pageNo>1</pageNo><totalCount>1</totalCount></count></response>